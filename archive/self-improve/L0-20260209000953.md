# L0 Self-Improvement Finding: Post-Restructuring Session Analysis

**Level:** L0
**Timestamp:** 2026-02-09T00:09:53Z
**Entries analyzed:** 48 (IDs 1770574235 through 1770595605)
**Improvement captures analyzed:** 20
**Issues logged:** 3 (#284, #285, #286)

---

## Session Context

This epoch covers a major SLS/SBS repo restructuring session on Feb 8, 2026. The work included:
- Relocating MCP server from `forks/sls-mcp` to `dev/mcp/sls-mcp`
- Fixing SLS_ROOT/SBS_ROOT path resolution across all MCP configuration
- Fixing subprocess calls (sbs to sls CLI rename, sys.executable for venv python)
- Fixing archive ARCHIVE_DIR resolution
- Cleaning SBS .gitmodules, removing dev/ from SBS, re-adding vscode-lean4

Multiple tasks, builds, and update-and-archive cycles ran during this period.

## Pattern Analysis

### P1: Universal oracle-first violation (100% of entries)

Every tagged entry carries `oracle-first:missed`. This is not a one-off -- it's systematic. The oracle-first protocol is documented in CLAUDE.md and sbs-developer.md but has zero compliance in this epoch.

**Root cause hypothesis:** During restructuring, the oracle concept index was likely stale (paths changed, files moved), reducing its perceived value. But this creates a negative feedback loop: agents skip the oracle because it's stale, so nobody regenerates it, so it stays stale.

**Issue logged:** #285

### P2: Retry loops from path resolution failures

Signal tags `signal:retry-loop` (100%), `signal:cli-misfire` (100%), `signal:consecutive-bash-failures` (100%), and `signal:same-command-retry` (100%) indicate pervasive command-level failures. The restructuring changed fundamental paths (SBS_ROOT, SLS_ROOT, CLI names), and every downstream tool needed updating.

The improvement captures tell the story:
- 1770577361: Stale .olean detection burned significant time
- 1770577169: CSS changes cascaded into debugging rounds due to build cache issues
- 1770580899: Opus 4.6 overcomplication of simple tasks

**Issue logged:** #286

### P3: Skill lifecycle bug (phase_fail not accepted)

`sls_skill_fail` creates entries with `state_transition: phase_fail`, but the archive CLI only accepts `phase_start`, `phase_end`, and `handoff`. This silently prevents failed skills from being properly recorded.

**Issue logged:** #284

### P4: Build failure rate (50% of build entries)

Of 6 build-triggered entries, 3 had `outcome:build-fail`. This is abnormally high. Root causes:
- Stale .olean files (#281, now closed)
- Path resolution failures from restructuring
- Submodule dependency chain not rebuilt in order

The `--skip-lake` inversion (always build by default) should reduce future stale .olean issues.

### P5: Context compaction pressure

`signal:context-compaction` appears on 100% of entries, indicating the session hit context window limits repeatedly. This is expected for a restructuring session that touched many files across many repos, but it suggests the session may have been too large in scope for a single context window.

## Improvement Capture Themes

The 20 improvement captures cluster into 3 categories:

### Tooling gaps (6 captures)
- Stale .olean detection (1770577361) -- addressed by #281
- Build cache validation (1770573994)
- Self-improve infrastructure (1770595605)
- skill_fail state transition bug (1770582464) -- now #284
- QA coverage for proof toggles (1770573283)
- Threshold-based CSS assertions (already #274, closed)

### Process anti-patterns (5 captures)
- Opus 4.6 overcomplication (1770580899) -- CLAUDE.md updated
- Regression investigation: diff first, not architecture dive (1770575770)
- Plan agent should get raw research output (1770578948)
- Focused git diff for regression analysis (1770575770)
- Tests should verify visual outcomes, not just property values (1770351194)

### Workflow/orchestration (4 captures)
- Block-wait agents mandatory (1770514455, 1770410983, 1770410296) -- 3 separate captures
- Use EnterPlanMode for plan confirmation (1770569654)

The triple capture of "block-wait agents" across different sessions indicates this was a hard-won lesson that took multiple failures to internalize. It's now documented in CLAUDE.md.

## Recommendations

1. **Regenerate oracle concept index** after the restructuring to restore oracle-first utility
2. **Add MCP server startup validation** for SLS_ROOT/SBS_ROOT paths (#286)
3. **Fix `sls_skill_fail`** to use a valid state transition (#284)
4. **Track oracle-first compliance** as a quality metric over time (#285)

## Cross-References

- Retrospective: `20260208185849.md` (SLS/SBS separation)
- Retrospective: `20260208150858.md` (Grid restructure + proof toggle)
- Retrospective: `20260208144027.md` (Stale .olean detection)
- Open issues: #283 (delimiter migration), #282 (SBS-Test coverage), #224 (Epic)
