# L3 Meta-Analysis: Converge SBSTest (2026-02-04)

**Analysis Period:** L2 Cycles 1-5 + GCR L3 + SBSTest convergence run
**Convergence Context:** SBSTest achieved 85.9% QA pass rate after 2 iterations (83.8% -> 85.9%)
**Trigger:** `/converge SBSTest` plateaued at iteration 2; 14 unfixable structural failures

---

## Executive Summary

SBSTest convergence reveals a **deeper structural failure** than GCR's 98.9% near-success. While GCR had a single unfixable criterion (Dress limitation on one feature), SBSTest exposes a **fundamental pipeline gap**: the Dress artifact generation doesn't produce per-declaration HTML/hover files, causing 11 of 16 failures. This is not a missing feature -- the code in `SBSBlueprint/Render.lean` expects these files and falls back to `-- See: X` reference comments when they don't exist.

Combined with the previous GCR L3 finding of "operational excellence with epistemic stagnation," SBSTest adds: **execution infrastructure has known architectural gaps that QA now surfaces reliably**.

---

## Cross-Project Convergence Comparison

| Dimension | GCR | SBSTest |
|-----------|-----|---------|
| Initial pass rate | 98.9% | 83.8% |
| Final pass rate | 98.9% (plateau) | 85.9% (plateau) |
| Iterations to plateau | 1 | 2 |
| CSS/JS-fixable failures | 0 | 2 (zebra striping) |
| Structural failures | 1 (Dress limitation) | 14 (pipeline + content) |
| Issues logged | 0 | 1 (#184) |

**Key insight:** GCR's near-perfect score masked the Dress artifact issue because GCR likely has artifact files generated by an earlier build pipeline version or different configuration. SBSTest, as the minimal test project, exposes the pipeline gap more acutely.

---

## Structural Findings

### 1. Dress Artifact Pipeline Gap (Critical, Issue #184)

The core side-by-side feature -- displaying formal Lean proofs alongside LaTeX statements -- is functionally broken for SBSTest. The `renderLeanColumn` function in `SBSBlueprint/Render.lean` has a well-defined artifact loading path (`loadArtifact` -> `decl.html` + `decl.hovers.json`) that falls through to reference comments for every declaration.

This affects:
- Rainbow bracket highlighting (7 criteria)
- Hover tooltips (1 criterion)
- Tactic state toggles (1 criterion)
- Node modal content depth (1 criterion)

**Relationship to L2 findings:** This is a direct instance of the "execution maturity vs measurement stagnation" pattern from the GCR L3. The build pipeline executes successfully (no errors), but the output is incomplete.

### 2. Paper TeX Content Scope (Medium, 4 criteria)

SBSTest's paper uses a status badge demonstration format without math, :::leanStatement, :::leanProof, or :::sideBySide hooks. These QA criteria assume a feature-complete paper. The criteria are valid for production projects (GCR uses them) but SBSTest's paper is intentionally minimal.

**Recommendation:** Either enrich SBSTest's paper with these features or scope criteria by project.

### 3. CSS Selector Architecture (Resolved)

The zebra striping fix required two iterations:
1. First attempt: `.sbs-container:nth-child(even of .sbs-container)` -- failed because sbs-containers are NOT siblings (each lives in its own `<section>`)
2. Corrected: `section:has(.sbs-container):nth-child(even of section:has(.sbs-container))` -- works because sections ARE siblings within `.chapter-page`

This exposed a gap in the fix agent's architectural understanding: DOM structure assumptions were wrong. The agent correctly used CSS4 selectors but applied them to the wrong structural level.

---

## Convergence Process Observations

### Loop Efficiency

The convergence loop correctly:
- Identified 16 failures across 5 page types
- Categorized 14 as unfixable in CSS/JS scope
- Fixed the 2 fixable items (zebra striping)
- Logged the pipeline issue proactively (#184)
- Detected plateau after 1 fix iteration

The loop exited at the right time. Continuing to iteration 3 would have produced identical results.

### Fix Agent DOM Understanding

The initial CSS fix failed because the fix agent assumed `.sbs-container` elements were siblings. The DOM structure (each container in a separate `<section>`) was not queried before writing the selector. This is the same "explore before acting" pattern identified in L2 cycle 4 (#152).

---

## Relationship to Previous L3 (GCR)

The GCR L3 identified five cross-cycle patterns. SBSTest convergence updates each:

| Pattern | GCR L3 Assessment | SBSTest Update |
|---------|-------------------|----------------|
| Measurement gap | Quality 3%, tags 0.0 | Dress artifact gap is a NEW measurement blind spot -- builds succeed but output is incomplete |
| Guidance verification | ~21 additions, ~4 verified | Zebra striping CSS fix required DOM exploration -- validates "explore before acting" guidance |
| Execution stability | Stable 85-88% | Convergence loop executed cleanly, proper plateau detection |
| Issue closure efficiency | High but misleading | N/A for convergence (no issue closure cycle) |
| Multiagent coordination | Mature | Single fix agent, no multiagent tested |

### New Pattern: Build Success != Output Completeness

The Dress artifact pipeline gap introduces a pattern not previously identified: **builds that succeed without error but produce incomplete output**. The build script reports success, quality validators pass (T5/T6 check CSS variables, not artifact content), and the site renders without errors. Only browser-level QA evaluation reveals the gap.

This extends the "closure != resolution" insight to the build pipeline: **build success != feature completeness**.

---

## Strategic Recommendations

### 1. Fix Dress Artifact Pipeline (#184) Before Further Convergence

SBSTest cannot exceed 85.9% until the artifact pipeline generates per-declaration files. This is the highest-leverage fix for QA improvement across all projects.

### 2. Add Artifact Completeness Check to Build Validators

Neither T1-T8 validators nor the build script checks for the presence of `decl.html`/`decl.hovers.json` per `@[blueprint]`-annotated declaration. A new validator (or extension of T2) should verify artifact completeness.

### 3. Scope Paper TeX Criteria by Project Capability

SBSTest's paper is intentionally minimal. Criteria like `math_rendered`, `leanStatement_renders`, etc. should either:
- Be conditional on paper source content (check if hooks exist before testing rendering)
- Or have SBSTest's paper enriched with the full feature set

### 4. Validate DOM Structure Before CSS Fixes

The zebra striping iteration confirms: CSS selectors must be grounded in actual DOM structure, not assumed sibling relationships. This is a repeating pattern and should be codified in agent guidance.

---

## Conclusion

SBSTest convergence at 85.9% reveals the Dress artifact pipeline as the **primary blocker** for side-by-side functionality. Unlike GCR (which achieves 98.9% likely due to pre-existing artifacts), SBSTest surfaces the pipeline gap directly. Fixing #184 is prerequisite for meaningful SBSTest QA improvement and for ensuring new projects don't exhibit the same fallback behavior.

The convergence loop performed well: correct failure categorization, efficient CSS fix iteration, proper plateau detection, and proactive issue logging. The loop's limitation is scope -- it cannot fix Lean build pipeline issues with CSS/JS changes. This scope awareness is a feature, not a limitation.
