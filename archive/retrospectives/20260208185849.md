# Retrospective: SLS/SBS Repo Separation & Infrastructure Fix

## What was done
- **Issue #2**: Scrubbed all deprecated slash-command references from 10+ files across SLS and SBS
- **SBS purge**: Removed all SLS orchestration content from SBS (CLAUDE.md, .claude/, forks/sls-mcp/, permanent docs)
- **SBS README**: Rewrote as pure Lean toolchain README
- **SLS restructuring**: Cleaned repo to only contain .claude/, SBS/, dev/, and config files
- **MCP relocation**: Moved sls-mcp from forks/sls-mcp to dev/mcp/sls-mcp
- **SLS_ROOT**: Added new env var separating orchestration paths from project paths
- **Path resolution**: Fixed ARCHIVE_DIR to resolve from SLS_ROOT, fixed all `SBS_ROOT/dev/` references in MCP code
- **Subprocess fix**: Changed from system python3 to sys.executable (venv python) with sbs-core dependency
- **SBS cleanup**: Removed dev/ directory, SBS self-reference, ReductiveGroups orphan, re-added vscode-lean4 fork
- **sbs-core fix**: ARCHIVE_DIR now respects SLS_ROOT env var for dual-repo architecture

## Key decisions
- SLS_ROOT for orchestration infra, SBS_ROOT for Lean projects â€” enables future SLS framework shareability
- sbs-core remains the shared package, extended to support SLS_ROOT
- CLI renamed from `python -m sbs` to `python -m sls` in all subprocess calls

## Issues encountered
- SBS remote had SLS commits pushed to it (required rebase)
- Broken sbs_core shim in dev/scripts shadowed real package
- Hatch rejected direct file references without allow-direct-references config
- Multiple VSCode reloads needed as MCP server path and code changed

## Commits
- SBS: purge SLS content, clean .gitmodules, add vscode-lean4, remove dev/
- SLS: doc scrub (#2), init dev/storage, restructure, MCP relocation, path fixes, subprocess fixes
